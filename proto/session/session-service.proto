syntax="proto3";

package session_service;

option go_package = "github.com/Abelova-Grupa/Mercypher/proto/sessionpb";

import "google/protobuf/timestamp.proto";
import "google/protobuf/wrappers.proto";

message Username {
    string Name = 1;
}

message ConnectionCredentials {
    string Username = 1;
    string Token = 2;
}

message UserLocation {
    string Username = 1;
    string APIAdress = 2;
}

message Token {
    string Token = 1;
}

message Session {
    string ID = 1;
    string Username = 2;
    bool IsActive = 3;
    google.protobuf.Timestamp ConnectedAt = 4;
}

service SessionService {
    // Session
    rpc Connect(Username) returns (Token) {}
    rpc Disconnect(ConnectionCredentials) returns (google.protobuf.BoolValue) {}

    // Token
    rpc VerifyToken(Token) returns (google.protobuf.BoolValue) {}

}